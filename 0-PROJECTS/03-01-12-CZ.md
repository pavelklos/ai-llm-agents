<small>Claude Sonnet 4 **(Pr≈Øvodce cestov√°n√≠m a destinac√≠ s AI-LLM RAG)**</small>
# Travel Planning and Destination Guide

## 1. N√°zev projektu
**AI Travel Planner - Inteligentn√≠ pr≈Øvodce cestov√°n√≠m s roz≈°√≠≈ôenou generac√≠ (RAG)**

## 2. Vysvƒõtlen√≠ kl√≠ƒçov√Ωch pojm≈Ø

### RAG (Retrieval-Augmented Generation)
Technika kombinuj√≠c√≠ vyhled√°v√°n√≠ relevantn√≠ch informac√≠ z datab√°ze znalost√≠ s generativn√≠mi schopnostmi LLM pro vytv√°≈ôen√≠ p≈ôesnƒõj≈°√≠ch a aktu√°lnƒõj≈°√≠ch odpovƒõd√≠.

### Trip Itineraries (Cestovn√≠ itiner√°≈ôe)
Strukturovan√© pl√°ny cest obsahuj√≠c√≠ ƒçasov√© rozvrhy, aktivity, p≈ôesuny a doporuƒçen√≠ pro optim√°ln√≠ vyu≈æit√≠ ƒçasu bƒõhem pobytu.

### Local Attractions (M√≠stn√≠ atrakce)
Datab√°ze zaj√≠mavost√≠, pam√°tek, restaurac√≠, muze√≠ a dal≈°√≠ch m√≠st k n√°v≈°tƒõvƒõ v konkr√©tn√≠ch destinac√≠ch.

### Weather Data (Meteorologick√° data)
Aktu√°ln√≠ a historick√© informace o poƒças√≠ umo≈æ≈àuj√≠c√≠ pl√°nov√°n√≠ aktivit podle klimatick√Ωch podm√≠nek.

### Cultural Information (Kulturn√≠ informace)
Znalosti o m√≠stn√≠ch tradic√≠ch, zvyc√≠ch, jazykov√Ωch specifik√°ch a kulturn√≠ch norm√°ch destinac√≠.

### Google Places API
Slu≈æba poskytuj√≠c√≠ detailn√≠ informace o m√≠stech, hodnocen√≠, fotografie a dal≈°√≠ metadata o turistick√Ωch destinac√≠ch.

### Booking Integration (Integrace rezervac√≠)
Propojen√≠ s rezervaƒçn√≠mi syst√©my pro hotely, lety, aktivity a dal≈°√≠ cestovn√≠ slu≈æby.

### Multi-modal Search (Multimod√°ln√≠ vyhled√°v√°n√≠)
Schopnost vyhled√°vat a zpracov√°v–∞—Ç—å informace z r≈Øzn√Ωch form√°t≈Ø - text, obr√°zky, mapy, recenze.

## 3. Komplexn√≠ vysvƒõtlen√≠ projektu

### C√≠le projektu
Vytvo≈ôit inteligentn√≠ho asistenta pro pl√°nov√°n√≠ cest, kter√Ω kombinuje s√≠lu RAG architektury s rozs√°hl√Ωmi datab√°zemi cestovn√≠ch informac√≠. Syst√©m m√° poskytovat personalizovan√© doporuƒçen√≠ zalo≈æen√° na preferenc√≠ch u≈æivatele, aktu√°ln√≠ch podm√≠nk√°ch a ovƒõ≈ôen√Ωch datech z r≈Øzn√Ωch zdroj≈Ø.

### Hlavn√≠ v√Ωzvy
- **Integrace heterogenn√≠ch dat**: Spojov√°n√≠ informac√≠ z r≈Øzn√Ωch API a datab√°z√≠
- **Aktu√°lnost informac√≠**: Zaji≈°tƒõn√≠ relevantnosti dat o cen√°ch, dostupnosti a podm√≠nk√°ch
- **Personalizace**: P≈ôizp≈Øsoben√≠ doporuƒçen√≠ individu√°ln√≠m preferenc√≠m a rozpoƒçtu
- **Multimod√°ln√≠ zpracov√°n√≠**: Pr√°ce s texty, obr√°zky, mapami a strukturovan√Ωmi daty

### Potenci√°ln√≠ dopad
Revolutionizace zp≈Øsobu pl√°nov√°n√≠ cest prost≈ôednictv√≠m AI, √∫spora ƒçasu p≈ôi v√Ωzkumu destinac√≠, optimalizace cestovn√≠ch rozpoƒçt≈Ø a zlep≈°en√≠ celkov√©ho z√°≈æitku z cestov√°n√≠.

## 4. Komplexn√≠ p≈ô√≠klad s implementac√≠ v Pythonu

### Instalace z√°vislost√≠

````python
# requirements.txt
langchain==0.1.0
openai==1.3.0
chromadb==0.4.0
fastapi==0.104.0
uvicorn==0.24.0
requests==2.31.0
python-dotenv==1.0.0
pydantic==2.5.0
pandas==2.1.0
numpy==1.24.0
````

### Hlavn√≠ implementace

````python
import os
import json
import requests
from datetime import datetime, timedelta
from typing import List, Dict, Optional
from dataclasses import dataclass

from langchain.embeddings.openai import OpenAIEmbeddings
from langchain.vectorstores import Chroma
from langchain.text_splitter import RecursiveCharacterTextSplitter
from langchain.llms import OpenAI
from langchain.chains import RetrievalQA
from langchain.document_loaders import JSONLoader
from langchain.schema import Document

import chromadb
from dotenv import load_dotenv
import pandas as pd

load_dotenv()

@dataclass
class TravelPreferences:
    budget: str  # "low", "medium", "high"
    travel_style: str  # "adventure", "relaxation", "cultural", "business"
    duration: int  # days
    interests: List[str]
    accommodation_type: str  # "hotel", "hostel", "apartment", "resort"

@dataclass
class Destination:
    name: str
    country: str
    description: str
    best_time_to_visit: str
    average_budget: Dict[str, int]
    attractions: List[str]
    cultural_info: str
    weather_info: str

class TravelDataManager:
    """Spr√°vce cestovn√≠ch dat a jejich p≈ô√≠prava pro RAG"""
    
    def __init__(self):
        self.destinations_data = []
        self.attractions_data = []
        self.cultural_data = []
        
    def create_sample_data(self):
        """Vytvo≈ôen√≠ uk√°zkov√Ωch dat pro demonstraci"""
        destinations = [
            {
                "name": "Praha",
                "country": "ƒåesk√° republika",
                "description": "Historick√© mƒõsto s gotickou a barokn√≠ architekturou, zn√°m√© sv√Ωmi kostely, mosty a pivem.",
                "best_time_to_visit": "Duben-≈ò√≠jen",
                "average_budget": {"low": 50, "medium": 100, "high": 200},
                "attractions": ["Pra≈æsk√Ω hrad", "Karl≈Øv most", "Staromƒõstsk√© n√°mƒõst√≠", "Pet≈ô√≠nsk√° rozhledna"],
                "cultural_info": "ƒåesk√© tradice zahrnuj√≠ pivn√≠ kulturu, klasickou hudbu a ≈ôemesln√© v√Ωrobky. ƒåe≈°tina je ofici√°ln√≠ jazyk.",
                "weather_info": "M√≠rn√© kontinent√°ln√≠ klima, tepl√© l√©to, chladn√° zima s obƒçasn√Ωm snƒõhem."
            },
            {
                "name": "Pa≈ô√≠≈æ",
                "country": "Francie",
                "description": "Mƒõsto svƒõtel, m√≥dy a umƒõn√≠ s ikonick√Ωmi pam√°tkami a svƒõtozn√°mou gastronomi√≠.",
                "best_time_to_visit": "Duben-ƒåerven, Z√°≈ô√≠-≈ò√≠jen",
                "average_budget": {"low": 80, "medium": 150, "high": 300},
                "attractions": ["Eiffelova vƒõ≈æ", "Louvre", "Notre-Dame", "Montmartre", "Champs-√âlys√©es"],
                "cultural_info": "Francouzsk√° kultura zd≈Øraz≈àuje gastronomii, umƒõn√≠ a m√≥du. Francouz≈°tina je povinn√° ve ve≈ôejn√Ωch instituc√≠ch.",
                "weather_info": "Oce√°nsk√© klima s m√≠rn√Ωmi zimami a tepl√Ωmi l√©ty. ƒåast√© de≈°tƒõ na podzim."
            },
            {
                "name": "Kj√≥to",
                "country": "Japonsko",
                "description": "B√Ωval√© c√≠sa≈ôsk√© hlavn√≠ mƒõsto s tis√≠ci chr√°m≈Ø, tradiƒçn√≠mi gej≈°ami a bambusov√Ωmi h√°ji.",
                "best_time_to_visit": "B≈ôezen-Kvƒõten, Z√°≈ô√≠-Listopad",
                "average_budget": {"low": 70, "medium": 120, "high": 250},
                "attractions": ["Fushimi Inari", "Kinkaku-ji", "Bambusov√Ω h√°j", "Gion district"],
                "cultural_info": "Japonsk√° kultura zd≈Øraz≈àuje √∫ctu, tradice a harmonii. D≈Øle≈æit√© jsou poklony a odstranƒõn√≠ bot.",
                "weather_info": "Subtropick√© klima s hork√Ωmi, vlhk√Ωmi l√©ty a m√≠rn√Ωmi zimami."
            }
        ]
        
        attractions = [
            {
                "name": "Pra≈æsk√Ω hrad",
                "location": "Praha",
                "type": "Historick√° pam√°tka",
                "description": "Nejvƒõt≈°√≠ starovƒõk√Ω hradn√≠ komplex na svƒõtƒõ podle Guinessovy knihy rekord≈Ø.",
                "opening_hours": "6:00-22:00",
                "entry_fee": "250-350 CZK",
                "rating": 4.5
            },
            {
                "name": "Eiffelova vƒõ≈æ",
                "location": "Pa≈ô√≠≈æ",
                "type": "Architektonick√° pam√°tka",
                "description": "Ikonick√° ≈æelezn√° vƒõ≈æ vysok√° 324 metr≈Ø, symbol Pa≈ô√≠≈æe a Francie.",
                "opening_hours": "9:30-23:45",
                "entry_fee": "25-70 EUR",
                "rating": 4.7
            }
        ]
        
        self.destinations_data = destinations
        self.attractions_data = attractions
        return destinations, attractions

class WeatherService:
    """Slu≈æba pro z√≠sk√°n√≠ informac√≠ o poƒças√≠"""
    
    def __init__(self, api_key: Optional[str] = None):
        self.api_key = api_key or "demo_api_key"
        self.base_url = "http://api.openweathermap.org/data/2.5"
    
    def get_current_weather(self, city: str) -> Dict:
        """Z√≠sk√°n√≠ aktu√°ln√≠ho poƒças√≠ (simulov√°no)"""
        # Simulace API odpovƒõdi
        mock_weather = {
            "Praha": {"temp": 15, "condition": "Zata≈æeno", "humidity": 65},
            "Pa≈ô√≠≈æ": {"temp": 18, "condition": "Sluneƒçno", "humidity": 55},
            "Kj√≥to": {"temp": 22, "condition": "Polojasno", "humidity": 70}
        }
        
        return mock_weather.get(city, {"temp": 20, "condition": "Nezn√°mo", "humidity": 60})

class TravelRAGSystem:
    """Hlavn√≠ RAG syst√©m pro cestovn√≠ doporuƒçen√≠"""
    
    def __init__(self, openai_api_key: str):
        self.openai_api_key = openai_api_key
        self.embeddings = OpenAIEmbeddings(openai_api_key=openai_api_key)
        self.llm = OpenAI(openai_api_key=openai_api_key, temperature=0.7)
        self.vector_store = None
        self.qa_chain = None
        self.data_manager = TravelDataManager()
        self.weather_service = WeatherService()
        
    def initialize_vector_store(self):
        """Inicializace vektorov√© datab√°ze s cestovn√≠mi daty"""
        try:
            # Vytvo≈ôen√≠ uk√°zkov√Ωch dat
            destinations, attractions = self.data_manager.create_sample_data()
            
            # P≈ô√≠prava dokument≈Ø pro vektorovou datab√°zi
            documents = []
            
            # P≈ôid√°n√≠ destinac√≠
            for dest in destinations:
                content = f"""
                Destinace: {dest['name']}, {dest['country']}
                Popis: {dest['description']}
                Nejlep≈°√≠ doba n√°v≈°tƒõvy: {dest['best_time_to_visit']}
                Rozpoƒçet: N√≠zk√Ω {dest['average_budget']['low']}‚Ç¨, St≈ôedn√≠ {dest['average_budget']['medium']}‚Ç¨, Vysok√Ω {dest['average_budget']['high']}‚Ç¨
                Atrakce: {', '.join(dest['attractions'])}
                Kulturn√≠ informace: {dest['cultural_info']}
                Poƒças√≠: {dest['weather_info']}
                """
                documents.append(Document(page_content=content.strip(), metadata={"type": "destination", "name": dest['name']}))
            
            # P≈ôid√°n√≠ atrakc√≠
            for attr in attractions:
                content = f"""
                Atrakce: {attr['name']}
                Lokalita: {attr['location']}
                Typ: {attr['type']}
                Popis: {attr['description']}
                Otev√≠rac√≠ doba: {attr['opening_hours']}
                Vstupn√©: {attr['entry_fee']}
                Hodnocen√≠: {attr['rating']}/5
                """
                documents.append(Document(page_content=content.strip(), metadata={"type": "attraction", "name": attr['name']}))
            
            # Vytvo≈ôen√≠ vektorov√© datab√°ze
            self.vector_store = Chroma.from_documents(
                documents=documents,
                embedding=self.embeddings,
                persist_directory="./travel_vector_db"
            )
            
            # Vytvo≈ôen√≠ QA ≈ôetƒõzce
            self.qa_chain = RetrievalQA.from_chain_type(
                llm=self.llm,
                chain_type="stuff",
                retriever=self.vector_store.as_retriever(search_kwargs={"k": 5}),
                return_source_documents=True
            )
            
            print("‚úÖ Vektorov√° datab√°ze byla √∫spƒõ≈°nƒõ inicializov√°na")
            
        except Exception as e:
            print(f"‚ùå Chyba p≈ôi inicializaci vektorov√© datab√°ze: {e}")
            raise
    
    def generate_travel_recommendations(self, destination: str, preferences: TravelPreferences) -> Dict:
        """Generov√°n√≠ cestovn√≠ch doporuƒçen√≠ na z√°kladƒõ preferenc√≠"""
        try:
            # Z√≠sk√°n√≠ aktu√°ln√≠ho poƒças√≠
            weather = self.weather_service.get_current_weather(destination)
            
            # Sestaven√≠ dotazu pro RAG
            query = f"""
            Napl√°nuj {preferences.duration}-denn√≠ cestu do {destination} pro cestovatele s n√°sleduj√≠c√≠mi preferencemi:
            - Rozpoƒçet: {preferences.budget}
            - Styl cestov√°n√≠: {preferences.travel_style}
            - Z√°jmy: {', '.join(preferences.interests)}
            - Typ ubytov√°n√≠: {preferences.accommodation_type}
            
            Zahr≈à informace o:
            1. Denn√≠ itiner√°≈ô s konkr√©tn√≠mi aktivitami
            2. Doporuƒçen√© atrakce a jejich prioritizace
            3. Kulturn√≠ tipy a m√≠stn√≠ zvyky
            4. Rozpoƒçtov√© odhady
            5. Praktick√© rady pro cestovatele
            
            Aktu√°ln√≠ poƒças√≠: {weather['temp']}¬∞C, {weather['condition']}
            """
            
            # Z√≠sk√°n√≠ odpovƒõdi z RAG syst√©mu
            result = self.qa_chain({"query": query})
            
            # Sestaven√≠ v√Ωsledn√© odpovƒõdi
            recommendations = {
                "destination": destination,
                "duration": preferences.duration,
                "current_weather": weather,
                "recommendations": result["result"],
                "source_documents": [doc.page_content for doc in result["source_documents"]],
                "generated_at": datetime.now().isoformat()
            }
            
            return recommendations
            
        except Exception as e:
            print(f"‚ùå Chyba p≈ôi generov√°n√≠ doporuƒçen√≠: {e}")
            return {"error": str(e)}
    
    def search_attractions(self, location: str, interests: List[str]) -> List[Dict]:
        """Vyhled√°n√≠ atrakc√≠ podle z√°jm≈Ø"""
        try:
            query = f"Atrakce v {location} kter√© souvis√≠ s {', '.join(interests)}"
            result = self.qa_chain({"query": query})
            
            return {
                "attractions": result["result"],
                "sources": [doc.metadata for doc in result["source_documents"]]
            }
            
        except Exception as e:
            print(f"‚ùå Chyba p≈ôi vyhled√°v√°n√≠ atrakc√≠: {e}")
            return {"error": str(e)}

def main():
    """Hlavn√≠ funkce demonstruj√≠c√≠ pou≈æit√≠ syst√©mu"""
    
    # Konfigurace (v re√°ln√© aplikaci z .env souboru)
    OPENAI_API_KEY = os.getenv("OPENAI_API_KEY", "your-api-key-here")
    
    if OPENAI_API_KEY == "your-api-key-here":
        print("‚ö†Ô∏è Pro plnou funkƒçnost nastavte OPENAI_API_KEY v .env souboru")
        return
    
    try:
        # Inicializace syst√©mu
        travel_system = TravelRAGSystem(OPENAI_API_KEY)
        travel_system.initialize_vector_store()
        
        # Uk√°zkov√© preference cestovatele
        preferences = TravelPreferences(
            budget="medium",
            travel_style="cultural",
            duration=5,
            interests=["historie", "architektura", "m√≠stn√≠ kuchynƒõ"],
            accommodation_type="hotel"
        )
        
        # Generov√°n√≠ doporuƒçen√≠ pro Prahu
        print("\nüéØ Generov√°n√≠ cestovn√≠ch doporuƒçen√≠...")
        recommendations = travel_system.generate_travel_recommendations("Praha", preferences)
        
        if "error" not in recommendations:
            print(f"\nüìç Doporuƒçen√≠ pro {recommendations['destination']}:")
            print(f"‚è±Ô∏è Doba pobytu: {recommendations['duration']} dn√≠")
            print(f"üå§Ô∏è Aktu√°ln√≠ poƒças√≠: {recommendations['current_weather']['temp']}¬∞C, {recommendations['current_weather']['condition']}")
            print(f"\nüìã Doporuƒçen√≠:\n{recommendations['recommendations']}")
        else:
            print(f"‚ùå Chyba: {recommendations['error']}")
        
        # Vyhled√°n√≠ atrakc√≠
        print("\nüîç Vyhled√°v√°n√≠ relevantn√≠ch atrakc√≠...")
        attractions = travel_system.search_attractions("Praha", ["historie", "architektura"])
        
        if "error" not in attractions:
            print(f"\nüèõÔ∏è Nalezen√© atrakce:\n{attractions['attractions']}")
        else:
            print(f"‚ùå Chyba: {attractions['error']}")
            
    except Exception as e:
        print(f"‚ùå Kritick√° chyba: {e}")

if __name__ == "__main__":
    main()
````

### Roz≈°√≠≈ôen√≠ s FastAPI webovou slu≈æbou

````python
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
from typing import List, Optional
import uvicorn

from travel_rag_system import TravelRAGSystem, TravelPreferences

app = FastAPI(title="AI Travel Planner API", version="1.0.0")

# Glob√°ln√≠ instance syst√©mu
travel_system = None

class TravelRequest(BaseModel):
    destination: str
    budget: str
    travel_style: str
    duration: int
    interests: List[str]
    accommodation_type: str

class AttractionSearchRequest(BaseModel):
    location: str
    interests: List[str]

@app.on_event("startup")
async def startup_event():
    """Inicializace p≈ôi spu≈°tƒõn√≠ aplikace"""
    global travel_system
    import os
    
    openai_key = os.getenv("OPENAI_API_KEY")
    if not openai_key:
        raise RuntimeError("OPENAI_API_KEY nen√≠ nastaven")
    
    travel_system = TravelRAGSystem(openai_key)
    travel_system.initialize_vector_store()

@app.post("/api/travel/recommendations")
async def get_travel_recommendations(request: TravelRequest):
    """Endpoint pro z√≠sk√°n√≠ cestovn√≠ch doporuƒçen√≠"""
    try:
        preferences = TravelPreferences(
            budget=request.budget,
            travel_style=request.travel_style,
            duration=request.duration,
            interests=request.interests,
            accommodation_type=request.accommodation_type
        )
        
        recommendations = travel_system.generate_travel_recommendations(
            request.destination, preferences
        )
        
        if "error" in recommendations:
            raise HTTPException(status_code=500, detail=recommendations["error"])
        
        return recommendations
        
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))

@app.post("/api/travel/attractions")
async def search_attractions(request: AttractionSearchRequest):
    """Endpoint pro vyhled√°n√≠ atrakc√≠"""
    try:
        attractions = travel_system.search_attractions(
            request.location, request.interests
        )
        
        if "error" in attractions:
            raise HTTPException(status_code=500, detail=attractions["error"])
        
        return attractions
        
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))

@app.get("/api/health")
async def health_check():
    """Health check endpoint"""
    return {"status": "healthy", "service": "AI Travel Planner"}

if __name__ == "__main__":
    uvicorn.run(app, host="0.0.0.0", port=8000)
````

### Testovac√≠ skript

````python
import unittest
from travel_rag_system import TravelRAGSystem, TravelPreferences, TravelDataManager

class TestTravelSystem(unittest.TestCase):
    
    def setUp(self):
        self.data_manager = TravelDataManager()
        
    def test_data_creation(self):
        """Test vytvo≈ôen√≠ uk√°zkov√Ωch dat"""
        destinations, attractions = self.data_manager.create_sample_data()
        
        self.assertGreater(len(destinations), 0)
        self.assertGreater(len(attractions), 0)
        self.assertIn("Praha", [d["name"] for d in destinations])
    
    def test_preferences_creation(self):
        """Test vytvo≈ôen√≠ preferenc√≠ cestovatele"""
        preferences = TravelPreferences(
            budget="medium",
            travel_style="cultural",
            duration=5,
            interests=["historie", "umƒõn√≠"],
            accommodation_type="hotel"
        )
        
        self.assertEqual(preferences.budget, "medium")
        self.assertEqual(preferences.duration, 5)
        self.assertIn("historie", preferences.interests)

if __name__ == "__main__":
    unittest.main()
````

## 5. Shrnut√≠ projektu

### Hodnototvorn√Ω p≈ô√≠nos
AI Travel Planner s RAG architekturou p≈ôedstavuje pokroƒçil√© ≈ôe≈°en√≠ pro personalizovan√© pl√°nov√°n√≠ cest. Syst√©m kombinuje s√≠lu velk√Ωch jazykov√Ωch model≈Ø s aktu√°ln√≠mi cestovn√≠mi daty, co≈æ umo≈æ≈àuje generov√°n√≠ relevantn√≠ch a praktick√Ωch doporuƒçen√≠.

### Kl√≠ƒçov√© v√Ωhody
- **Personalizace**: P≈ôizp≈Øsoben√≠ doporuƒçen√≠ individu√°ln√≠m preferenc√≠m a rozpoƒçtu
- **Aktu√°lnost**: Integrace re√°ln√Ωch dat o poƒças√≠, cen√°ch a dostupnosti
- **Komplexnost**: Pokryt√≠ v≈°ech aspekt≈Ø cestov√°n√≠ od ubytov√°n√≠ po kulturn√≠ tipy
- **≈†k√°lovatelnost**: Modul√°rn√≠ architektura umo≈æ≈àuj√≠c√≠ snadn√© roz≈°√≠≈ôen√≠ o nov√© destinace a slu≈æby

### Technologick√© inovace
Projekt vyu≈æ√≠v√° nejmodernƒõj≈°√≠ technologie vƒçetnƒõ RAG architektury, vektorov√Ωch datab√°z√≠ pro s√©mantick√© vyhled√°v√°n√≠ a multimod√°ln√≠ zpracov√°n√≠ dat. Implementace v Pythonu s pou≈æit√≠m LangChain, OpenAI API a FastAPI zaji≈°≈•uje robustnost a v√Ωkonnost syst√©mu.

### Budouc√≠ mo≈ænosti roz≈°√≠≈ôen√≠
- Integrace s rezervaƒçn√≠mi syst√©my a platebn√≠mi br√°ny
- Roz≈°√≠≈ôen√≠ o podporu obrazov√Ωch dotaz≈Ø a interaktivn√≠ch map
- Implementace machine learning model≈Ø pro predikci trend≈Ø v cestovn√≠m ruchu
- V√Ωvoj mobiln√≠ aplikace s offline funkcionalitou